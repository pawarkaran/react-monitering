(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[8],{911:function(e,t,a){"use strict";a.r(t);var n=a(32),r=a(20),s=a(8),l=a.n(s),c=a(23),o=a(11),m=a(0),i=a.n(m),u=a(905),d=a(1),p=a(87),g=a(13),b=function(e){switch(e){case"Active":return"success";case"pending":return"dark";case"Pending":return"warning";case"cross":case"low":return"danger";default:return"primary"}},E=function(e){e},f=["number","title","service","assign_to","statusof","priority","created","breach","actions"];t.default=function(e){e.setAuth;var t=Object(m.useState)([]),a=Object(o.a)(t,2),s=a[0],h=a[1],N=Object(m.useState)([]),v=Object(o.a)(N,2),x=v[0],y=v[1],k=function(){var e=Object(c.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:3000/issues/",{method:"GET",headers:{jwt_token:localStorage.token}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,h(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();Object(m.useEffect)((function(){k()}),[]),Object(m.useEffect)((function(){y(s)}),[s]);var w=Object(m.useState)(!1),j=Object(o.a)(w,2),O=j[0],S=j[1],P=function(){S(!O)},C=Object(m.useState)({services:"",assign_to:"",title:"",urgency:"",summary:"",statusof:""}),_=Object(o.a)(C,2),T=_[0],q=_[1],L=T.services,A=T.assign_to,F=T.title,I=T.urgency,M=T.summary,U=T.statusof,J=Object(p.a)(),R=J.register,z=J.handleSubmit,G=J.errors,H=function(){var e=Object(c.a)(l.a.mark((function e(t,a){var n,r,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),a.target.className+=" was-validated",e.prev=2,(n=new Headers).append("Content-Type","application/json"),n.append("jwt_token",localStorage.token),r={services:L,assign_to:A,title:F,urgency:I,statusof:U},e.next=9,fetch("http://localhost:3000/issues",{method:"POST",headers:n,body:JSON.stringify(r)});case 9:return s=e.sent,console.log("11"),g.ToastsStore.success("Issue Created"),q({services:"",assign_to:"",title:"",urgency:"",summary:"",statusof:""}),e.next=15,s.json();case 15:c=e.sent,console.log(c),console.log("done"),console.log("done"),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(2),console.error(e.t0.message);case 24:case"end":return e.stop()}}),e,null,[[2,21]])})));return function(t,a){return e.apply(this,arguments)}}(),B=function(e){return q(Object(r.a)(Object(r.a)({},T),{},Object(n.a)({},e.target.name,e.target.value)))};return i.a.createElement("div",null,i.a.createElement(d.J,{centered:!0,show:O,onClose:P},i.a.createElement(d.M,{closeButton:!0},"Create A New Issue"),i.a.createElement(g.ToastsContainer,{store:g.ToastsStore,position:g.ToastsContainerPosition.TOP_RIGHT}),i.a.createElement(d.K,null,i.a.createElement("form",{className:"needs-validation",onSubmit:z(H),noValidate:!0},i.a.createElement("div",{className:"form-group "},i.a.createElement("label",{className:"label-form"},"Service:",i.a.createElement("span",{className:"text-danger"},"*")),i.a.createElement("input",{type:"text",onChange:B,value:L,className:"form-control input  bg-transparent border-2 outline-none rounded-sm   ",name:"services",placeholder:"Services",required:!0,minLength:"2",maxLength:"30",ref:R({required:"Please Provide Missing Field"})}),G.services&&i.a.createElement("p",{className:"text-danger pt-1"},G.services.message)),i.a.createElement("div",{className:"form-group "},i.a.createElement("label",{className:"label-form"},"Assign To:",i.a.createElement("span",{className:"text-danger"},"*")),i.a.createElement("input",{type:"text",onChange:B,value:A,className:"form-control input  bg-transparent border-2 outline-none rounded-sm   ",name:"assign_to",placeholder:"Assign to",required:!0,minLength:"2",maxLength:"30",ref:R({required:"Please Provide Missing Field"})}),G.assign_to&&i.a.createElement("p",{className:"text-danger pt-1"},G.assign_to.message)),i.a.createElement("div",{className:"form-group "},i.a.createElement("label",{className:"label-form"},"Title:",i.a.createElement("span",{className:"text-danger"},"*")),i.a.createElement("input",{type:"text",onChange:B,value:F,className:"form-control input  bg-transparent border-2 outline-none rounded-sm   ",name:"title",placeholder:"Title",required:!0,minLength:"2",maxLength:"45",ref:R({required:"Please Provide Missing Field"})}),G.title&&i.a.createElement("p",{className:"text-danger pt-1"},G.title.message)),i.a.createElement("div",{className:"form-group "},i.a.createElement("label",{className:"label-form"},"Urgency:",i.a.createElement("span",{className:"text-danger"},"*")),i.a.createElement("input",{type:"text",onChange:B,value:I,className:"form-control input  bg-transparent border-2 outline-none rounded-sm   ",name:"urgency",placeholder:"Urgency",required:!0,minLength:"2",maxLength:"30",ref:R({required:"Please Provide Missing Field"})}),G.urgency&&i.a.createElement("p",{className:"text-danger pt-1"},G.urgency.message)),i.a.createElement("div",{className:"form-group "},i.a.createElement("label",{className:"label-form"},"Summary:",i.a.createElement("span",{className:"text-danger"},"*")),i.a.createElement("textarea",{type:"text",onChange:B,value:M,className:"form-control input  bg-transparent border-2 outline-none rounded-sm   ",name:"summary",placeholder:"Summary",required:!0,maxLength:"100",ref:R({required:"Please Provide Missing Field"})}),G.summary&&i.a.createElement("p",{className:"text-danger pt-1"},G.summary.message)),i.a.createElement("div",{className:"form-group "},i.a.createElement("label",{className:"label-form"},"Status:"),i.a.createElement("input",{type:"text",onChange:B,value:U,className:"form-control input  bg-transparent border-2 outline-none rounded-sm   ",name:"statusof",placeholder:"Status of",required:!0,maxLength:"50"})),i.a.createElement(d.e,{type:"submit",className:"btn btn-info"},"Submit Incident"))),i.a.createElement(d.L,null)),i.a.createElement(d.m,{fluid:!0},i.a.createElement(d.U,null,i.a.createElement(d.k,{sm:"3",className:"text-center"},"Open Incidents",i.a.createElement("h5",{className:"font-weight-bold"},"2")),i.a.createElement(d.k,{sm:"3",className:"text-center"},"Open-unacknowledged",i.a.createElement("h5",{className:"font-weight-bold"},"2")),i.a.createElement(d.k,{sm:"3",className:"text-center"},"Assigned to you",i.a.createElement("h5",{className:"font-weight-bold"},"2")),i.a.createElement(d.k,{sm:"3",className:"text-center"},"Unacknowledged by you",i.a.createElement("h5",{className:"font-weight-bold"},"2")))),i.a.createElement(d.m,{fluid:!0,className:"p-4"},i.a.createElement(d.U,null,i.a.createElement("button",{type:"button",className:"btn btn-outline-dark px-4",onClick:function(){return window.location.reload(!1)}},i.a.createElement(u.a,null)," Refresh"),i.a.createElement(d.f,{className:"px-5"},i.a.createElement(d.e,{type:"radio",className:"btn btn-outline-dark px-3"},"Triggered"),i.a.createElement(d.e,{type:"radio",className:"btn btn-outline-dark px-4"},"Open"),i.a.createElement(d.e,{type:"radio",className:"btn btn-outline-dark px-3"},"Acknowledged"),i.a.createElement(d.e,{type:"radio",className:"btn btn-outline-dark px-3"},"Resolved"),i.a.createElement(d.e,{type:"radio",className:"btn btn-outline-dark "},"All")),i.a.createElement("button",{type:"button",className:"btn btn-outline-dark"},"Assigned to me"))),i.a.createElement(d.m,{fluid:!0,className:"pr-4 pb-2 pl-0 d-flex justify-content-end "}," ",i.a.createElement("div",null,i.a.createElement(d.e,{type:"button",className:"btn btn-info px-4",onClick:P},"New Issue"))),i.a.createElement(d.U,null,i.a.createElement(d.k,null,i.a.createElement(d.g,null,i.a.createElement(d.i,null,"Issues"),i.a.createElement(d.h,null,i.a.createElement(d.o,{items:x,fields:f,hover:!0,tableFilter:!0,columnFilterSlot:!0,clickableRows:!0,itemsPerPageSelect:!0,sorter:!0,bordered:!0,size:"lg",itemsPerPage:5,pagination:!0,scopedSlots:{number:function(e){return i.a.createElement("td",null,i.a.createElement("p",null,e.issue_id))},title:function(e){return i.a.createElement("td",null,i.a.createElement("p",null,e.title))},service:function(e){return i.a.createElement("td",null,i.a.createElement("p",null,e.services))},"Assign to":function(e){return i.a.createElement("td",null,i.a.createElement("p",null,e.assign_to))},status:function(e){return i.a.createElement("td",null,i.a.createElement(d.a,{color:b(e.statusof)},e.statusof))},priority:function(e){return i.a.createElement("td",null,i.a.createElement("p",null,e.priorities))},created:function(e){return i.a.createElement("td",null,i.a.createElement("p",null,e.created_at))},breach:function(e){return i.a.createElement("td",null,i.a.createElement("p",null,e.breach))},actions:function(e){return i.a.createElement("td",{className:"px-1"},i.a.createElement(d.e,{className:"btn-outline-dark m-1",size:"sm",color:E(e.actions)},e.actions),i.a.createElement(d.e,{className:"btn-outline-dark m-1",size:"sm",color:E(e.actions)},e.actions))}}}))))))}}}]);
//# sourceMappingURL=8.7d26c2e5.chunk.js.map