{"version":3,"sources":["views/pages/login/Login.js"],"names":["Login","setAuth","history","useState","token","setToken","setError","isOpen","setIsOpen","email","password","inputs","setInputs","useForm","register","handleSubmit","errors","onSubmit","data","e","a","preventDefault","console","log","body","fetch","method","headers","JSON","stringify","response","json","parseRes","jwtToken","localStorage","setItem","push","ToastsStore","success","error","message","changeHandler","target","name","value","className","expandable","inNavbar","onClick","src","process","height","show","navbar","href","store","position","ToastsContainerPosition","TOP_RIGHT","alt","md","noValidate","type","onChange","placeholder","required","minLength","maxLength","ref","pattern","sitekey","onExpired","block","to","class"],"mappings":"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","file":"static/js/9.9d70947f.chunk.js","sourcesContent":["import React, { useState } from 'react'\nimport './login.scss';\n\n\nimport {\n  CButton,\n  CCol,\n  CContainer,\n  CCollapse, CNavbar, CNavbarBrand, CNavbarNav, CToggler,\n\n  CRow, CLink, CImg \n} from '@coreui/react'\nimport { useForm } from 'react-hook-form';\nimport ReCAPTCHA from 'react-google-recaptcha';\n\nimport { ToastsContainer, ToastsContainerPosition, ToastsStore } from 'react-toasts';\nimport { Link } from 'react-router-dom';\n\n\nconst Login = ({ setAuth, history }) => {\n\n\n\n  // const [ firstname, setName] = useState(\"\");\n\n\n  // const getProfile = async () => {\n  //   try {\n  //     const res = await fetch(\"http://localhost:3000/dashboard\", {\n  //       method: \"GET\",\n  //       headers: { jwt_token: localStorage.token }\n  //     });\n\n  //     const parseData = await res.json();\n  //     setName(parseData.user_firstname);\n  //   } catch (err) {\n  //     console.error(err.message);\n  //   }\n  // };\n\n  // const logout = async e => {\n  //   e.preventDefault();\n  //   try {\n  //     localStorage.removeItem(\"token\");\n  //     // setAuth(false);\n  //     // toast.success(\"Logout successfully\");\n  //   } catch (err) {\n  //     console.error(err.message);\n  //   }\n  // };\n\n  // useEffect(() => {\n  //   getProfile();\n  // }, []);\n\n  //  ---------------- ReCAPTCHa -----------------\n  // const reCaptcha = useRef();\n  const [token, setToken] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  // --------------------------\n\n  const [isOpen, setIsOpen] = useState(false);\n\n\n\n  const [inputs, setInputs] = useState({\n    email: \"\",\n    password: \"\",\n  });\n  const { email, password } = inputs;\n\n\n  const { register, handleSubmit, errors } = useForm();\n\n  const onSubmit = async (data, e) => {\n    // --------------\n    if (!token) {\n      setError(\"Yoou must verify the captcha\");\n      return;\n    }\n    setError(\"\");\n    // --------------\n    e.preventDefault();\n    console.log(data)\n    try {\n      const body = { email, password };\n      const response = await fetch(\n        \"http://localhost:3000/authentication/login\",\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-type\": \"application/json\"\n          },\n          body: JSON.stringify(body)\n        }\n      );\n\n      const parseRes = await response.json();\n\n      if (parseRes.jwtToken) {\n        localStorage.setItem(\"token\", parseRes.jwtToken);\n        history.push('/dashboard')\n        ToastsStore.success(\"Logged in Seccessfully\")\n        setAuth(true);\n        ToastsStore.success(\"Logged in Seccessfully\")\n       \n      } else {\n        setAuth(false);\n        ToastsStore.error(parseRes)\n      }\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n\n\n  const changeHandler = e =>\n    setInputs({ ...inputs, [e.target.name]: e.target.value });\n\n\n\n\n\n  return (\n \n\n      <div className=\"login-page \">\n\n  \n        {/* ------------ Navbar -------------- */}\n\n\n        <div>\n          <CNavbar expandable=\"sm\" className=\"navbar-com p-2 \" >\n            <CToggler inNavbar onClick={() => setIsOpen(!isOpen)} />\n            <CNavbarBrand className=\"navbar-brand \"  >\n              <CImg\n                src={process.env.PUBLIC_URL + \"/images/logs.png\"}\n                // src=\"../images/logs.png\"\n                height=\"50px\"\n              // className=\"mb-2\"\n              />\n            </CNavbarBrand>\n            <CCollapse show={isOpen} navbar>\n              <CNavbarNav className=\"navbar-text text-center \">\n                <CLink href=\"/\" className=\"navbar-12 pr-3 pl-3 text-decoration-none\" ><span className=\"navbar-12\">Home</span></CLink>\n                <CLink className=\"navbar-12 pr-3 pl-3 text-decoration-none \"><span className=\"navbar-12\"> About</span></CLink>\n                <CLink className=\"navbar-12 pr-3 pl-3 text-decoration-none\"><span className=\"navbar-12\">Contact</span></CLink>\n                <CLink className=\"navbar-12 pr-3 pl-3 text-decoration-none\"><span className=\"navbar-12\">Link</span></CLink>\n                {/* <CLink className=\"navbar-12 pr-3 pl-3 text-decoration-none\"><span className=\"navbar-12\">{firstname}</span></CLink> */}\n\n\n\n              </CNavbarNav>\n              <CNavbarNav className=\" ml-auto text-center d-flex justify-content-center\">\n                <CLink href=\"/#/login\" className=\"nav-righty text-white ml-3 mr-3 text-decoration-none \"><span className=\"nav-righty\">Login </span></CLink>\n                <CLink href=\"/#/register\" className=\"nav-righty text-white ml-3 mr-3  text-decoration-none\"><span className=\"nav-righty\">Sign Up </span></CLink>\n\n\n              </CNavbarNav>\n            </CCollapse>\n          </CNavbar>\n\n        </div>\n\n        <div>\n\n\n      {/* <button onClick={() => ToastsStore.success(\"Hey, you just clicked!\")}>Click me</button> */}\n        <ToastsContainer store={ToastsStore} position={ToastsContainerPosition.TOP_RIGHT}/>\n\n\n        {/* ----------------------------------------- */}\n        <div className=\"card-bg c-app c-default-layout flex-row justify-content-center \">\n\n          {/* <h1 className=\"\">Name: {firstname}</h1> */}\n\n\n\n          <div className=\" d-flex justify-content-center\">\n\n            <CContainer className=\"login-card \">\n\n              <div className=\"card-group pt-1 pb-1\">\n                <div className=\"card1 card border-right-0 shadow-lg pt-5 \">\n                  <CImg className=\"card-img-top p-3\" src={process.env.PUBLIC_URL + \"/images/logs.png\"} alt=\"Card image cap\" />\n                  <div className=\"card-bod-bg card-body pt-3\">\n                    {/* <h5 className=\"card-title\">Card title</h5> */}\n                    <p className=\"card-text text-center pt-2 pb-5\">The DevOps Services is established with the aim of providing benchmark SMAC\n                solutions to the Small,Medium and Large scale companies across the globe.</p>\n                    {/* <p className=\"card-text\"><small className=\"text-muted\">Last updated 3 mins ago</small></p> */}\n                  </div>\n                </div>\n                <div className=\"card shadow-lg\">\n                  {/* <img className=\"card-img-top\" src=\"...\" alt=\"Card image cap\" /> */}\n                  <div className=\"card-body\">\n                    <h5 className=\"card-title\"><h1 className=\"tittle-login text-center \">Login</h1>\n                      <p className=\"text-muted text-center\">Welcome Back</p></h5>\n                    <CRow className=\"justify-content-center p-4\">\n                      <CCol md=\"9\" >\n                        {/* <CCard className=\"mx-4\">\n              <CCardBody className=\"p-4\"> */}\n                        <form\n                          className='needs-validation'\n                          onSubmit={handleSubmit(onSubmit)}\n                          noValidate\n                        >\n\n\n\n\n                          <div className=\"form-group \">\n                            <label className=\"label-form\" >\n                              Email Id:\n                  <span className=\"text-danger\">*</span>\n                            </label>\n                            <input\n                              type=\"email\"\n                              onChange={changeHandler}\n                              value={email}\n                              className=\"form-control input  bg-transparent border-2 outline-none rounded-sm   \"\n                              name=\"email\"\n                              // label=\"Email Id\"\n                              placeholder=\"Email Id\"\n                              // autoComplete=\"email\"\n                              // aria-required\n                              required\n                              minLength=\"5\"\n                              maxLength=\"30\"\n                              ref={register({\n                                required: \"Please Provide a Valid Email Id\",\n                                pattern: {\n                                  value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                                  // message: \"invalid email address\"\n                                }\n                              })}\n                            />\n                            {errors.email && <p className=\"text-danger pt-1\">{errors.email.message}</p>}\n\n\n                          </div>\n\n\n\n\n                          <div className=\"form-group\">\n                            <label className=\"label-form\" >\n                              Password\n                 <span className=\"text-muted\"> (Atleast 8 characters):</span>\n                              <span className=\"text-danger\">*</span>\n                            </label>\n                            <input\n                              type=\"password\"\n                              onChange={changeHandler}\n                              value={password}\n                              className=\"form-control input  bg-transparent border-2 outline-none rounded-sm \"\n                              name=\"password\"\n                              // label=\"Password\"\n                              placeholder=\"Password\"\n                              // aria-required\n                              required\n                              minLength=\"3\"\n                              maxLength=\"30\"\n                              ref={register({ required: \"Password Required\", })}\n                            />\n                            {errors.password && <p className=\"text-danger pt-1\">{errors.password.message}</p>}\n                          </div>\n\n                          <div className=\"form-group\">\n\n                            <ReCAPTCHA\n                              // ref={reCaptcha}\n                              sitekey=\"6LfptdQZAAAAAIaZPNPZMnTK_RoFPt4BmxPTgUbJ\"\n                              onChange={token => setToken(token)}\n                              onExpired={e => setToken(\"\")}\n                            // ref={register({\n                            //   required: true,\n                            // })}\n                            // onChange={token => setToken(token)}\n                            // onExpired={e => setToken(\"\")}\n                            />\n                          </div>\n\n\n\n\n                          <CButton type=\"submit\" className=\"label-button\" block>Login</CButton>\n                        </form>\n                        <div className=\"forgot-password text-right\">\n                        <Link to=\"/password/forgotpassword\" className=\"forgot-password text-muted\">Forget Password</Link>\n                        </div>\n                        <h6 className=\"font-small text-center text-muted text-lg p-1 pt-4\">\n                          By signing up, you agree to Devops's\n               <br />\n                          <a href=\"/#\" className=\"font-small  grey-text d-flex justify-content-center text-muted\">\n                            <span className=\"font-weight-bold\">Terms of Service and Privacy Policy.</span></a>\n                        </h6>\n\n                      </CCol>\n                    </CRow>\n                  </div>\n                </div>\n\n              </div>\n            </CContainer>\n\n            {/* <h4>\n      Hey, My name is <div id=\"fragment1\">Hariharan</div>\n    <div id=\"fragment2\"> Hari Harker</div>\n    </h4> */}\n          </div>\n        </div>\n\n\n\n\n        <footer class=\"footer-section\">\n          <div class=\"container\">\n            <div class=\"footer-cta pt-5 pb-5\">\n              <div class=\"row\">\n                <div class=\"col-xl-4 col-md-4 mb-30\">\n                  <div class=\"single-cta\">\n                    <i class=\"fas fa-map-marker-alt\"></i>\n                    <div class=\"cta-text\">\n                      <h4>Find us</h4>\n                      <span>Mumbai, mumbai mumbai</span>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"col-xl-4 col-md-4 mb-30\">\n                  <div class=\"single-cta\">\n                    <i class=\"fas fa-phone\"></i>\n                    <div class=\"cta-text\">\n                      <h4>Call us</h4>\n                      <span>981234567</span>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"col-xl-4 col-md-4 mb-30\">\n                  <div class=\"single-cta\">\n                    <i class=\"far fa-envelope-open\"></i>\n                    <div class=\"cta-text\">\n                      <h4>Mail us</h4>\n                      <span>mail@info.com</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"footer-content pt-5 pb-5\">\n              <div class=\"row\">\n                <div class=\"col-xl-4 col-lg-4 mb-50\">\n                  <div class=\"footer-widget\">\n\n\n                    <div class=\"footer-social-icon\">\n                      <span>Follow us</span>\n                      <a href=\"/\"><i class=\"fab fa-facebook-f facebook-bg\"></i></a>\n                      <a href=\"/\"><i class=\"fab fa-twitter twitter-bg\"></i></a>\n                      <a href=\"/\"><i class=\"fab fa-google-plus-g google-bg\"></i></a>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"col-xl-4 col-lg-4 col-md-6 mb-30\">\n                  <div class=\"footer-widget\">\n                    <div class=\"footer-widget-heading\">\n                      <h3>Useful Links</h3>\n                    </div>\n                    <ul>\n                      <li><a href=\"/\">Home</a></li>\n                      <li><a href=\"/\">About US</a></li>\n                      <li><a href=\"/\"> Our Services</a></li>\n                      <li><a href=\"/\">Contact Us</a></li>\n                      <li><a href=\"/\">Expert Team</a></li>\n\n\n                    </ul>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n          </div>\n          <div class=\"copyright-area\">\n            <div class=\"container\">\n              <div class=\"row\">\n                <div class=\"col-xl-6 col-lg-6 text-center text-lg-left\">\n                  <div class=\"copyright-text\">\n                    <p>Copyright &copy; 2020, All Right Reserved <a href=\"https://codepen.io/anupkumar92/\">DevOp's</a></p>\n                  </div>\n                </div>\n                <div class=\"col-xl-6 col-lg-6 d-none d-lg-block text-right\">\n                  <div class=\"footer-menu\">\n                    <ul>\n                      <li><a href=\"/\">Home</a></li>\n                      <li><a href=\"/\">Terms</a></li>\n                      <li><a href=\"/\">Privacy</a></li>\n                      <li><a href=\"/\">Policy</a></li>\n                      <li><a href=\"/\">Contact</a></li>\n                    </ul>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </footer>\n\n\n      </div>\n    </div>\n  )\n}\n\nexport default Login\n"],"sourceRoot":""}